# テーマ
**キャッシュ戦略を最大限に活用した動画配信サイトの構築**

## ストーリー
あるスタートアップが、次世代の動画共有プラットフォームを立ち上げようとしている。高速な動画配信と、柔軟なキャッシュ戦略によるパフォーマンス最適化を両立させ、ユーザー体験の最大化を目指す。キャッシュ制御の技術的理解を深めつつ、AWSの実戦経験を積むのが目標。

## 背景・目的
* 動画・サムネイル・コメントなど、キャッシュ戦略が必要なコンテンツが混在するサイト構成を通して、キャッシュ制御ヘッダーの理解を深めるため。
* AWS（S3, CloudFront, Lambda, API Gateway, ALB等）を活用し、実践的なインフラスキルを向上させるため。
* コスト最適化・ユーザー体験・セキュリティを意識した設計力を養うため。

## 利用者・規模
* 想定ユーザー: 技術検証を目的とした開発者・エンジニア向け
* 月間UU: 1,000人程度（開発・検証用）
* 同時アクセス: 最大10〜50ユーザー程度
* 動画ファイル: 合計50〜100本（数GB規模）

## 要件定義

### 機能要件

* 動画をCDN経由で高速に配信したい
* ユーザーに一度だけ「お知らせ」を表示したい
* サムネイルを素早く表示しつつ、自動で更新したい
* コメントはリアルタイムに取得したい
* 視聴履歴・お気に入りはユーザーごとに保持したい

### 非機能要件
* **パフォーマンス**: 動画・サムネイル表示は1秒以内、APIレスポンスは300ms以内
* **可用性**: 99.9%以上（CloudFront + S3 + 冗長化構成）
* **コスト**: 月額 1万円未満（無料枠とスポット活用を含む）
* **セキュリティ**: HTTPS対応、個人情報を含むAPIは`private` or `no-store`で保護

## 制約
* **使用技術の制限**:
  * AWSサービスを優先（S3, CloudFront, Lambda, ALB, ECS, API Gatewayなど）
  * RDSなど永続DBは使わず、検証用のDynamoDBなど軽量構成
* **チーム体制・スキル**:
  * 1〜2名（個人開発）
  * インフラ初心者向けに段階的に構成を拡張
## 予算規模
* 月額 5,000〜10,000円を目安（無料枠とS3標準ストレージ/CDN最適化を活用）
## 期待収益
* 直接の収益は想定しない（技術力向上が目的）
* ポートフォリオとして公開 → MLOps / Cloud職への転職活動でのアピール材料
## 成功基準
* CloudFront/S3/Lambda/APIでキャッシュ挙動を制御できていること
* ブラウザのDevToolsで `Cache-Control`, `Age`, `ETag`, `X-Cache` を意識して分析できること
* 動画・サムネイル・コメント・お知らせそれぞれに異なるキャッシュ戦略を適用できていること
* Terraformなどの構成コード化ができていること

## まとめ
この構成は、実務でも活かせる「マルチキャッシュ戦略」の理解を深める絶好の学習テーマである。動画サイトという高負荷・高可用性が求められるユースケースを通じて、パフォーマンス・セキュリティ・コストを意識した実践力を身につける。
