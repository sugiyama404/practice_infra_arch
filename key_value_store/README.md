# Redis Key-Value Store è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚«ã‚¿ãƒ­ã‚°

## ğŸ—ï¸ åˆ†æ•£ã‚·ã‚¹ãƒ†ãƒ åŸºç›¤ãƒ‘ã‚¿ãƒ¼ãƒ³

### 1. coordinator-ring - åˆ†æ•£å”èª¿åˆ¶å¾¡
```
ç”¨é€”: ãƒªãƒ¼ãƒ€ãƒ¼é¸å‡ºã€éšœå®³æ¤œçŸ¥ã€ãƒãƒ¼ãƒ‰ç®¡ç†
ã‚­ãƒ¼è¨­è¨ˆ: ring:nodes, leader:current, heartbeat:{node_id}
å®Ÿè£…æŠ€è¡“: ãƒ™ã‚¯ãƒˆãƒ«ã‚¯ãƒ­ãƒƒã‚¯ã€ãƒªãƒ¼ãƒ€ãƒ¼é¸å‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
å¿œç”¨ä¾‹: åˆ†æ•£ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ã‚¿ãƒãƒ¼ãƒ‰
```

### 2. quorum-consistency - å¼·ä¸€è²«æ€§åˆ¶å¾¡
```
ç”¨é€”: W+R>N ã‚¯ã‚©ãƒ¼ãƒ©ãƒ ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿ä¸€è²«æ€§ä¿è¨¼
ã‚­ãƒ¼è¨­è¨ˆ: data:{key}:v{version}, replica:{node}:{key}
å®Ÿè£…æŠ€è¡“: ãƒ™ã‚¯ãƒˆãƒ«ã‚¯ãƒ­ãƒƒã‚¯ã€ãƒ’ãƒ³ãƒ†ãƒƒãƒ‰ãƒãƒ³ãƒ‰ã‚ªãƒ•ã€ãƒªãƒ¼ãƒ‰ãƒªãƒšã‚¢
å¿œç”¨ä¾‹: é‡‘èã‚·ã‚¹ãƒ†ãƒ ã€åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
```

### 3. sharding-replica - åˆ†æ•£ãƒ»ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
```
ç”¨é€”: ã‚³ãƒ³ã‚·ã‚¹ãƒ†ãƒ³ãƒˆãƒãƒƒã‚·ãƒ¥ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿åˆ†æ•£ã¨ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
ã‚­ãƒ¼è¨­è¨ˆ: shard:{hash_slot}:{key}, replica:{shard}:{node}
å®Ÿè£…æŠ€è¡“: ã‚³ãƒ³ã‚·ã‚¹ãƒ†ãƒ³ãƒˆãƒãƒƒã‚·ãƒ¥ã€ä»®æƒ³ãƒãƒ¼ãƒ‰ã€ã‚ªãƒ¼ãƒˆã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
å¿œç”¨ä¾‹: Amazon DynamoDBã€Apache Cassandra
```

### 4. distributed-lock - åˆ†æ•£æ’ä»–åˆ¶å¾¡
```
ç”¨é€”: è¤‡æ•°ãƒãƒ¼ãƒ‰é–“ã§ã®æ’ä»–çš„ãƒªã‚½ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹
ã‚­ãƒ¼è¨­è¨ˆ: lock:{resource_id}:{client_id}, lease:{resource_id}
å®Ÿè£…æŠ€è¡“: Redlockã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€TTLã€ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯æ¤œçŸ¥
å¿œç”¨ä¾‹: åˆ†æ•£ãƒãƒƒãƒå‡¦ç†ã€ãƒªã‚½ãƒ¼ã‚¹äºˆç´„ã‚·ã‚¹ãƒ†ãƒ 
```

## âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³

### 5. cache-aside - ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³
```
ç”¨é€”: èª­ã¿å–ã‚Šæ€§èƒ½æœ€é©åŒ–ã€DBè² è·è»½æ¸›
ã‚­ãƒ¼è¨­è¨ˆ: cache:{entity_type}:{id}, ttl:{entity_type}
å®Ÿè£…æŠ€è¡“: TTLç®¡ç†ã€Cache Warmingã€Cache Stampedeå¯¾ç­–
å¿œç”¨ä¾‹: Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€APIãƒ¬ã‚¹ãƒãƒ³ã‚¹é«˜é€ŸåŒ–
```

### 6. bloom-sstable - ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æœ€é©åŒ–
```
ç”¨é€”: ãƒ‡ã‚£ã‚¹ã‚¯I/Oå‰Šæ¸›ã€å­˜åœ¨ãƒã‚§ãƒƒã‚¯é«˜é€ŸåŒ–
ã‚­ãƒ¼è¨­è¨ˆ: bloom:{partition}, sstable:{level}:{partition}, memtable:{key}
å®Ÿè£…æŠ€è¡“: ãƒ–ãƒ«ãƒ¼ãƒ ãƒ•ã‚£ãƒ«ã‚¿ã€LSM-Treeã€ã‚³ãƒ³ãƒ‘ã‚¯ã‚·ãƒ§ãƒ³
å¿œç”¨ä¾‹: LevelDBã€RocksDBã€Apache Cassandra
```

### 7. rate-limiting - ãƒ¬ãƒ¼ãƒˆåˆ¶é™
```
ç”¨é€”: APIéå‰°åˆ©ç”¨é˜²æ­¢ã€ã‚·ã‚¹ãƒ†ãƒ ä¿è­·
ã‚­ãƒ¼è¨­è¨ˆ: rate:{user_id}:{window}, tokens:{user_id}, counter:{api}:{window}
å®Ÿè£…æŠ€è¡“: Token Bucketã€Sliding Window Logã€Fixed Window Counter
å¿œç”¨ä¾‹: API Gatewayã€ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹é–“é€šä¿¡åˆ¶å¾¡
```

## ğŸ”„ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ãƒ»ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³

### 8. line-streams - Redis Streamså¿œç”¨
```
ç”¨é€”: æ°¸ç¶šåŒ–ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ã€é †åºä¿è¨¼ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒªãƒ¼ãƒ 
ã‚­ãƒ¼è¨­è¨ˆ: stream:{topic}, consumer:{group}:{consumer_id}
å®Ÿè£…æŠ€è¡“: Consumer Groupsã€XADD/XREADã€éšœå®³å¾©æ—§æ©Ÿæ§‹
å¿œç”¨ä¾‹: ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚­ãƒ¥ãƒ¼ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åˆ†æ
```

## ğŸ® ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å¿œç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³

### 9. session-store - ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆã‚¢
```
ç”¨é€”: Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
ã‚­ãƒ¼è¨­è¨ˆ: session:{session_id}, user_sessions:{user_id}
å®Ÿè£…æŠ€è¡“: JSONç›´åˆ—åŒ–ã€TTLè‡ªå‹•å»¶é•·ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³å…±æœ‰
å¿œç”¨ä¾‹: ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ç®¡ç†ã€ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã‚«ãƒ¼ãƒˆã€ãƒãƒ«ãƒãƒ‡ãƒã‚¤ã‚¹å¯¾å¿œ
```

### 10. leaderboard - ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ 
```
ç”¨é€”: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã€ã‚¹ã‚³ã‚¢ç®¡ç†
ã‚­ãƒ¼è¨­è¨ˆ: rank:{game_id}:{period}, user_score:{user_id}, top_players
å®Ÿè£…æŠ€è¡“: Sorted Set (ZADD/ZREVRANK)ã€æ™‚é–“çª“ã‚¹ã‚³ã‚¢é›†è¨ˆ
å¿œç”¨ä¾‹: ã‚²ãƒ¼ãƒ ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã€SNSã„ã„ã­æ•°ã€å£²ä¸Šãƒ©ãƒ³ã‚­ãƒ³ã‚°
```

## ğŸ“‹ ãƒ‘ã‚¿ãƒ¼ãƒ³é¸æŠã‚¬ã‚¤ãƒ‰

### ãƒ‡ãƒ¼ã‚¿ä¸€è²«æ€§é‡è¦–
- **coordinator-ring** + **quorum-consistency** + **distributed-lock**
- ç”¨é€”: é‡‘èã€åœ¨åº«ç®¡ç†ã€äºˆç´„ã‚·ã‚¹ãƒ†ãƒ 

### é«˜å¯ç”¨æ€§ãƒ»æ€§èƒ½é‡è¦–  
- **sharding-replica** + **cache-aside** + **bloom-sstable**
- ç”¨é€”: SNSã€ECã‚µã‚¤ãƒˆã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é…ä¿¡

### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†é‡è¦–
- **line-streams** + **rate-limiting** + **leaderboard**
- ç”¨é€”: ãƒãƒ£ãƒƒãƒˆã€ã‚²ãƒ¼ãƒ ã€ãƒ©ã‚¤ãƒ–é…ä¿¡

### ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†é‡è¦–
- **session-store** + **distributed-lock** + **cache-aside**
- ç”¨é€”: Webã‚¢ãƒ—ãƒªã€APIèªè¨¼ã€ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆ

## ğŸ”§ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å¯¾å¿œè¡¨

| ãƒ‘ã‚¿ãƒ¼ãƒ³ | Redisæ©Ÿèƒ½ | ä»£æ›¿æŠ€è¡“ | å­¦ç¿’é›£æ˜“åº¦ |
|---------|----------|---------|----------|
| coordinator-ring | Hash, Pub/Sub | etcd, ZooKeeper | â˜…â˜…â˜…â˜…â˜… |
| quorum-consistency | Hash, Script | Cassandra, DynamoDB | â˜…â˜…â˜…â˜…â˜… |
| sharding-replica | Cluster, Sentinel | MongoDB, Elasticsearch | â˜…â˜…â˜…â˜…â˜† |
| distributed-lock | String, TTL | etcd, Consul | â˜…â˜…â˜…â˜†â˜† |
| cache-aside | String, Hash | Memcached, Hazelcast | â˜…â˜…â˜†â˜†â˜† |
| bloom-sstable | BitField, Hash | LevelDB, RocksDB | â˜…â˜…â˜…â˜…â˜† |
| rate-limiting | String, Script | Nginx, API Gateway | â˜…â˜…â˜…â˜†â˜† |
| line-streams | Streams | Apache Kafka, Pulsar | â˜…â˜…â˜…â˜†â˜† |
| session-store | Hash, TTL | MongoDB, PostgreSQL | â˜…â˜…â˜†â˜†â˜† |
| leaderboard | Sorted Set | Elasticsearch, InfluxDB | â˜…â˜…â˜†â˜†â˜† |

## ğŸ¯ å®Ÿè£…å„ªå…ˆåº¦ãƒãƒˆãƒªãƒƒã‚¯ã‚¹

### é«˜é »å‡º Ã— åŸºæœ¬ç†è§£å¿…é ˆ
1. **cache-aside** - æœ€ã‚‚ä¸€èˆ¬çš„ãªãƒ‘ã‚¿ãƒ¼ãƒ³
2. **session-store** - Webã‚¢ãƒ—ãƒªã®åŸºæœ¬
3. **distributed-lock** - åˆ†æ•£ã‚·ã‚¹ãƒ†ãƒ ã®åŸºæœ¬

### é«˜é »å‡º Ã— å°‚é–€çŸ¥è­˜å¿…è¦
4. **sharding-replica** - ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã®æ ¸å¿ƒ
5. **rate-limiting** - ã‚·ã‚¹ãƒ†ãƒ ä¿è­·ã®è¦
6. **leaderboard** - é«˜æ€§èƒ½ãƒ©ãƒ³ã‚­ãƒ³ã‚°

### ä¸­é »å‡º Ã— æ·±ã„ç†è§£å¿…è¦
7. **line-streams** - ç¾ä»£çš„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°
8. **bloom-sstable** - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ä½é »å‡º Ã— å°‚é–€æ€§é«˜ã„
9. **coordinator-ring** - åˆ†æ•£ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã®æ ¸å¿ƒ
10. **quorum-consistency** - ä¸€è²«æ€§ç†è«–ã®å®Ÿè·µ

ã“ã®ã‚«ã‚¿ãƒ­ã‚°ã‚’å‚è€ƒã«ã€å¿…è¦ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ã‚‰å­¦ç¿’ã‚’å§‹ã‚ã¦ãã ã•ã„ã€‚